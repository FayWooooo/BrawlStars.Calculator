<!DOCTYPE html>
<head>
    <meta charset="UTF-8">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        $(document).ready(function () {
            let count = 1; // å„²å€¼å“é …å¾2é–‹å§‹
            let exchangeRate = 1; // é è¨­åŒ¯ç‡ (TWD)
    
            // æ–°å¢å„²å€¼å“é …
            $("#addItem").on("click", function () {
                var newItemRow = `
                    <div class="item-row" style="display: flex; justify-content: center; gap: 20px;">
                        <p>å„²å€¼å“é …${count}:</p>
                        <select class="price-select">
                            <option value="0">è«‹é¸æ“‡å„²å€¼å“é …</option>
                            <optgroup label="éŠæˆ²å•†åº—å¯¶çŸ³">
                                <option value="70">30å¯¶çŸ³</option>
                                <option value="170">80å¯¶çŸ³</option>
                                <option value="330">179å¯¶çŸ³</option>
                                <option value="670">414å¯¶çŸ³</option>
                                <option value="1690">1140å¯¶çŸ³</option>
                                <option value="3290">2500å¯¶çŸ³</option>
                            </optgroup>
                            <optgroup label="SCå•†åº—å¯¶çŸ³">
                                <option value="70">30+3å¯¶çŸ³</option>
                                <option value="170">80+8å¯¶çŸ³</option>
                                <option value="330">179+17å¯¶çŸ³</option>
                                <option value="670">414+36å¯¶çŸ³</option>
                                <option value="1690">1140+95å¯¶çŸ³</option>
                                <option value="3290">2500+200å¯¶çŸ³</option>
                            </optgroup>
                            <optgroup label="éŠæˆ²å•†åº—é€šè¡Œåˆ¸">
                                <option value="220">æ™®é€šé€šè¡Œåˆ¸</option>
                                <option value="330">é«˜ç´šé€šè¡Œåˆ¸</option>
                                <option value="830">Proé€šè¡Œåˆ¸</option>
                            </optgroup>
                            <optgroup label="SCå•†åº—é€šè¡Œåˆ¸">
                                <option value="220">æ™®é€šé€šè¡Œåˆ¸</option>
                                <option value="330">é«˜ç´šé€šè¡Œåˆ¸</option>
                                <option value="830">Proé€šè¡Œåˆ¸</option>
                            </optgroup>
                        </select>
                        <input type="number" class="quantity" value="1" min="1" max="10">
                    </div>
                `;
                $(this).before(newItemRow);
                count++;
            });
    
            // ç›£è½è®Šæ›´ä¸¦è¨ˆç®—é‡‘é¡
            $(document).on("change", ".price-select, .quantity", function () {
                calculateTotal();
            });
    
            // ç›£è½é¸æ“‡è²¨å¹£ï¼Œæ›´æ–°åŒ¯ç‡
            $("#currencySelector").on("change", function () {
                let selectedCurrency = $(this).val();
                getExchangeRate("TWD", selectedCurrency);
            });
    
            // å–å¾—åŒ¯ç‡
            function getExchangeRate(base, target) {
                $.get(`https://api.exchangerate-api.com/v4/latest/${base}`, function (data) {
                    if (data.rates[target]) {
                        exchangeRate = data.rates[target];
                        console.log(`1 TWD = ${exchangeRate} ${target}`);
                        calculateTotal();
                    }
                });
            }
    
            // è¨ˆç®—ç¸½é‡‘é¡
            function calculateTotal() {
                let total = 0;
                $(".item-row").each(function () {
                    let price = parseFloat($(this).find(".price-select").val());
                    let qty = parseInt($(this).find(".quantity").val());
                    total += price * qty;
                });
    
                let selectedCurrency = $("#currencySelector").val();
                let convertedTotal = (total * exchangeRate).toFixed(2);
    
                $("#totalPrice").text(`ç¸½é‡‘é¡: ${convertedTotal} ${selectedCurrency}`);
            }
        });
    </script>    
    <meta name=â€viewportâ€ content=â€width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <title>è’é‡äº‚é¬¥è¨ˆç®—æ©Ÿ</title>
    <style>
        body{
            background-color: white;
            margin:0;
        }
        nav{
            background-image: url("DarkSandSeasonBG.png");
            display: flex;
            border-bottom: 3px solid #000;
        }
        li{
            display: inline-flex;
        }
        li a{
            text-decoration: none;
            color: #000;
        }
        li a p{
            color: #ffffff;
            font-size: 45px;
            font-family: 'hanwangheiheavy';
            font-weight: normal;
            -webkit-text-stroke-width: 0.7px;
            -webkit-text-stroke-color: black;
        }
        header{
            background: url(navbg.png);
            border-top: 3px solid #000;
            border-bottom: 3px solid #000;
            display: block;
            margin-top: -27px;
        }
        header a, h1{
            color: white;
            font-size: 40px;
            text-align: center;
            font-family: 'hanwangheiheavy';
            -webkit-text-stroke-width: 0.7px;
            -webkit-text-stroke-color: black;
        }
        header a, p{
            color: white;
            font-size: 20px;
            margin-bottom: 20px;
            margin-top: 8px;
            text-align: center;
            font-family: 'hanwangheiheavy';
            -webkit-text-stroke-width: 0.7px;
            -webkit-text-stroke-color: black;
        }
        select{
            height: 40px;
            width: 165px;
            font-size: 20px;
            background-color: rgb(255, 255, 255);
            border: 2px solid #000;
            border-radius: 10px;
        }
        .quantity{
            height: 35px;
            width: 60px;
            font-size: 20px;
            background-color: rgb(255, 255, 255);
            border: 2px solid #000;
            border-radius: 10px;
        }
        .plus{
            height: 35px;
            width: 370px;
            font-size: 20px;
            background-color: rgb(255, 255, 255);
            border: 2px solid #000;
            border-radius: 10px;
        }
        .ad{
            background: url(BrawloweenBG.png);
            background-size: cover;
            border-top: 3px solid #000;
            border-bottom: 3px solid #000;
            display: block;
            margin-top: -27px;
        }
        .ad a, h1{
            color: white;
            font-size: 40px;
            text-align: center;
            font-family: 'hanwangheiheavy';
            -webkit-text-stroke-width: 0.7px;
            -webkit-text-stroke-color: black;
        }
        .ad a, h2{
            color: white;
            font-size: 25px;
            text-align: center;
            text-decoration: none;
            font-family: 'hanwangheiheavy';
            -webkit-text-stroke-width: 0.7px;
            -webkit-text-stroke-color: black;
        }
        .ad a, p{
            color: white;
            font-size: 20px;
            margin-bottom: 20px;
            margin-top: 8px;
            text-align: center;
            font-family: 'hanwangheiheavy';
            -webkit-text-stroke-width: 0.7px;
            -webkit-text-stroke-color: black;
        }
        footer{
            background-color: #000;
            color: white;
            font-size: 25px;
            font-family: 'hanwangheiheavy';
            text-align: center;
        }
    </style>
</head>
<body>
    <nav>
        <ul>
            <li><a href="index.html"><p style="font-weight: bold;">è’é‡äº‚é¬¥è¨ˆç®—æ©Ÿ</p></a></li>
        </ul>
    </nav>
    <header>
        <h1 style="margin-top: 50px;">å„²å€¼é‡‘é¡è¨ˆç®—æ©Ÿ</h1>
        <center>
            <select id="currencySelector" class="plus">
                <option value="TWD">å°ç£ (TWD)</option>
                <option value="USD">ç¾åœ‹ (USD)</option>
                <option value="JPY">æ—¥æœ¬ (JPY)</option>
                <option value="KRW">éŸ“åœ‹ (KRW)</option>
                <option value="CNY">ä¸­åœ‹ (CNY)</option>
                <option value="HKD">é¦™æ¸¯ (HKD)</option>
                <option value="SGD">æ–°åŠ å¡ (SGD)</option>
                <option value="EUR">æ­å…ƒ (EUR)</option>
                <option value="GBP">è‹±åœ‹ (GBP)</option>
                <option value="AUD">æ¾³æ´² (AUD)</option>
                <option value="CAD">åŠ æ‹¿å¤§ (CAD)</option>
            </select><br><br>
            <button id="addItem" class="plus">æ–°å¢å„²å€¼å“é …</button>
            <p id="totalPrice">ç¸½é‡‘é¡: 0 å…ƒ</p><br><br>
        </center>        
    </header>
    <div class="ad">
        <h1 style="margin-top: 50px;">è’é‡äº‚é¬¥å°æ¸¯æ¾³YTB</h1>
        <h2>å®˜æ–¹YT</h2><a href="https://www.youtube.com/@BrawlStars" target="_blank"><h2 style="color: blue;-webkit-text-stroke-width: 0.7px;-webkit-text-stroke-color: white;">é »é“é€£çµğŸ”—</h2></a>
        <h2>YT:ç››ä¸»æ’­</h2><a href="https://www.youtube.com/@Chun" target="_blank"><h2 style="color: blue;-webkit-text-stroke-width: 0.7px;-webkit-text-stroke-color: white;">é »é“é€£çµğŸ”—</h2></a>
        <h2>YT:PowerTechæ·®ç‰¹</h2><a href="https://www.youtube.com/@powertech4165" target="_blank"><h2 style="color: blue;-webkit-text-stroke-width: 0.7px;-webkit-text-stroke-color: white;">é »é“é€£çµğŸ”—</h2></a>
        <h2>YT:åŠ‰Ray</h2><a href="https://www.youtube.com/@RayLiuBS" target="_blank"><h2 style="color: blue;-webkit-text-stroke-width: 0.7px;-webkit-text-stroke-color: white;">é »é“é€£çµğŸ”—</h2></a>
        <h2>YT:å˜¿!å…„å¼Ÿ</h2><a href="https://www.youtube.com/@CodeHeyBrother" target="_blank"><h2 style="color: blue;-webkit-text-stroke-width: 0.7px;-webkit-text-stroke-color: white;">é »é“é€£çµğŸ”—</h2></a>
    </div>
    <footer>
        <p>æœ¬ç¶²ç«™ç”±FayWoooooè£½ä½œ</p>
    </footer>
</body>